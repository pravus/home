#!/bin/bash

test -z "$*" && {
    echo "usage: $0 FILE [...]"
    exit 1
}

for ifile in "$@"; do
    ofile=$(basename "${ifile/.wav/.sln16}")
    sox -twav "$ifile" -twav -esigned-integer -c1 -r16000 -b16 - > "$ofile" || {
        echo "$ifile: conversion failed" >&2
    }
done
